{% extends 'bootstrap/base.html' %}

{% block styles %}
        {{ super() }}
	{% assets "application_css" %}
	<link rel="stylesheet" href="{{ ASSET_URL }}" />
	{% endassets %}
	<style>
		html, body {
			width: 100%;
			height: 100%;
			margin: 0;
			padding: 0;
		}
		#map {
			width: 100%;
			height: 100%;
		}
	</style>
{% endblock %}
{% block scripts %}
        <script src="{{url_for('static', filename='javascripts/jquery-2.1.3.min.js')}}"></script>
        {{super()}}
	<script>
		APP_IMAGES_URL = "{{ url_for('static', filename='images')}}"
	</script>
	{% assets "application_js" %}
	<script type="text/javascript" src="{{ ASSET_URL }}"></script>
	{% endassets %}
{% endblock %}

{% block content %}
<div id="map-control-panel"></div>
<div id="map"></div>

{% raw %}
<script id="map-control-panel-content" type="text/x-handlebars-template">
        <div class="panel panel-default">
          <div class="panel-heading">{{ name }}
            <div class="btn-group pull-right">
                <button class="btn btn-default btn-xs close-panel">X</button>
            </div>
          </div>
          <div class="panel-body">
                <form role="form">
                        <div class="row">
                                <div class="form-group col-md-6">
                                        <div>
                                                <label for="latitude">Latitude:</label>
                                                <div class="input-mask">{{ latlng.[0] }}</div>
                                                <input type="text" style="display:none" value="{{ latlng.[0] }}" class="form-control" id="latitude" >
                                        </div>
                                        <div>
                                                <label for="longitude">Longitude:</label>
                                                <div class="input-mask">{{ latlng.[1] }}</div>
                                                <input style="display:none" type="text" value="{{ latlng.[1] }}" class="form-control" id="longitude" >
                                        </div>
                                </div>
                                <div class="form-group col-md-3">
                                        <label for="tags">Tags:</label>
                                        <div class="input-mask">{{ json tags }}</div>
                                        <textarea style="display: none; font-size: 11px;" class="form-control" id="tags" rows="10">
                                                {{json tags }}
                                        </textarea>
                                </div>
                        </div>
                </form>
                <div>
                  <button data-id="{{ id }}" class="btn btn-default edit-map-entity">Edit</button>
                  <button data-id="{{ id }}" class="btn btn-default save-map-entity">Save</button>
                  <button data-id="{{ id }}" class="btn btn-default cancel-map-entity-edit">Cancel</button>
                </div>
          </div>
        </div>
</script>
{% endraw %}
{% endblock %}
